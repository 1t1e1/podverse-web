<!doctype html>
<html itemscope itemtype="http://schema.org/Article">
  <head>
    <title>Podverse</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>

    <link rel="stylesheet" href="/static/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/node_modules/typeahead.js-bootstrap4-css/typeaheadjs.css">
    <link rel="stylesheet" href="/static/node_modules/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/node_modules/mediaelement/build/mediaelementplayer.css">
    <link rel="stylesheet" href="/static/css/style.css">

    <script src="/static/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="/static/node_modules/clamp-js/clamp.js"></script>

    <!-- TODO: This is weird, gotta be a better way. -->
    <script>
      window.isPlayerPage = false;
    </script>

    {% include "meta-tags.html" %}

  </head>
  <body>
    <div id="keep-footer-on-bottom">
      <nav class="navbar navbar-fixed-top">
        <div class="navbar-inner">
          <button class="navbar-toggler hidden-sm-up pull-xs-right" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
            &#9776;
          </button>
          <a class="navbar-brand" href="/">Podverse</a>
          <div class="clearfix"></div>
          <div class="collapse navbar-toggleable-xs" id="collapsingNavbar">
            <ul class="nav navbar-nav">
              <!-- TODO: add active class to currently selected nav-items -->
              <!-- TODO: add screenreader-only (sr-only) element to currently
              selected nav-items <span class="sr-only">(current)</span> -->
              <li id="login-btn" class="nav-item pull-xs-right">
                <!-- content added in scripts.js -->
              </li>
              <!-- TODO: add a browsable playlists page
              <li class="nav-item pull-xs-right">
                <a class="nav-link" href="/mobile-app">Playlists</a>
              </li>-->
              <!-- TODO: add a browsable clips page
              <li class="nav-item pull-xs-right">
                <a class="nav-link" href="/mobile-app">Clips</a>
              </li>-->
            </ul><!-- /.nav .navbar-nav -->
          </div><!-- /.collapse .navbar-toggleable-xs -->
        </div><!-- /.navbar-inner -->
      </nav>

      <div class="container padding-for-footer">
        {% block body %}{% endblock %}
      </div>

      <footer class="footer">
        <div style="max-width: 610px; margin: auto;">
          <div id="footer-links">
            <a href="/">Podverse <sup>FM</sup></a>
            <a href="/about">About</a>
            <a href="/mobile-app">Mobile App</a>
          </div>
          <div id="footer-license">
            <a href="https://www.gnu.org/licenses/agpl-3.0.en.html"><i class="fa fa-copyright fa-flip-horizontal"></i> AGPLv3</a>
          </div>
        </div>
      </footer>
    </div>

    <script src="/static/node_modules/tether/dist/js/tether.min.js"></script>
    <script src="/static/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/static/node_modules/mediaelement/build/mediaelement-and-player.min.js"></script>
    <script src="/static/js/mejs_playbackrate_plugin.js"></script>

    <!-- Latest minor release -->
    <script src="https://cdn.auth0.com/js/lock/10.2/lock.min.js"></script>
    <!-- Latest patch release (recommended for production) -->
    <!-- <script src="http://cdn.auth0.com/js/lock/10.x.y/lock.min.js"></script> -->
    <script src="/static/js/auth.js"></script>

    <script src="/static/js/scripts.js"></script>
    <script src="/static/js/clipper.js"></script>
    <script src="/static/js/addPodcastModal.js"></script>
    <script src="/static/js/clipCreatedModal.js"></script>
    <script src="/static/js/copyToClipboard.js"></script>

    <script>
      // TODO: this is weird, should be a better way...
      if (isPlayerPage === true) {
        setPlayerInfo();
        // Toggle the autoplay to True by default on page load
        // TODO: remove autoplay on mobile devices since they do not support autoplay
        createAutoplayBtn();
        createAndAppendAudio();
        onScrollCondensePlayerView();
        initClipper();
      }

      addPlaylistItemTextTruncation();
    </script>

  </body>
</html>
